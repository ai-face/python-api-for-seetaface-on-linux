import seetaface_api as sf
import os

def draw_keypoints(img_path):
	#initialize
	seetaface = SeetaFace()
	
	#detect faces and landmarks
	faces = seetaface.face_detect(img_path)
	landmarks = seetaface.face_align(img_path)
	
	#read img
	img = cv2.imread(img_path)
	img = cv2.cvtColor(img, cv2.COLOR_BGR2RGB)
	
	#draw face rects
	for i in faces:
		img[i.y, i.x:i.x + i.width] = [255, 0, 0]
		img[i.y + i.height, i.x:i.x + i.width] = [255, 0, 0]
		img[i.y:i.y + i.height, i.x] = [255, 0, 0]
		img[i.y:i.y + i.height, i.x + i.width] = [255, 0, 0]

	#draw landmarks
	for i in landmarks:
		for j in range(5):
		    img[i.y[j]-1:i.y[j]+1, i.x[j] - 1: i.x[j]+1] = [255, 0, 0]
	
	#mkdir
	if not os.path.exists("./Sample_Result"):
		os.mkdir("Sample_Result")
	cnt = 0
	for i in faces:
	    cnt += 1
	    cv2.imwrite('Sample_Result/' + str(cnt) + '.jpg', img)

draw_keypoints('Sample/Aaron_Peirsol_0001.jpg')
draw_keypoints('Sample/Aaron_Peirsol_0004.jpg')
print seetaface.face_verify('Sample/Aaron_Peirsol_0001.jpg', 'SampleAaron_Peirsol_0004.jpg')
